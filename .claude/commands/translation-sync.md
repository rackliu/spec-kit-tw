---
name: translation-sync
description: "同步原版更新並自動翻譯新增內容"
---

使用者輸入: 
$ARGUMENTS

目標: 自動同步原版更新, 智慧識別變更內容, 並自動翻譯新增或修改的內容.

執行步驟: 

1. 原版同步準備
   - 檢查當前Git狀態, 確保工作目錄乾淨
   - 獲取原版最新版本資訊
   - 建立同步工作分支

2. 原版更新獲取
   - 在spec-kit目錄拉取最新原版程式碼
   - 識別版本變更和新增內容
   - 分析檔案變更型別(新增/修改/刪除)
   - 生成變更影響報告

3. 變更內容分類
   - **必須同步**: scripts/, .devcontainer/, AGENTS.md, 核心程式碼邏輯
   - **需要翻譯**: templates/, docs/, memory/, 根目錄文件
   - **謹慎處理**: .github/, 配置檔案
   - **無需處理**: 媒體檔案, 純技術檔案

4. 智慧同步執行
   - 自動同步必須同步的內容
   - 對需要翻譯的內容執行: 
     * 識別具體變更部分
     * 保持現有翻譯不變
     * 僅翻譯新增或修改內容
     * 維護翻譯一致性

5. 翻譯更新處理
   - 呼叫翻譯引擎處理變更內容
   - 保持現有翻譯的風格和術語
   - 更新相關的翻譯記憶
   - 驗證翻譯後的功能完整性

6. 品質驗證和整合
   - 執行翻譯品質檢查
   - 驗證CLI功能正常
   - 檢查文件和模板完整性
   - 更新版本資訊和CHANGELOG

7. 同步報告
   - 生成詳細的同步報告
   - 列出所有變更內容
   - 標識需要人工稽核的專案
   - 提供釋出建議

智慧特性: 
- **增量更新**: 僅處理變更內容, 避免重複工作
- **智慧合併**: 保持現有翻譯, 僅更新必要部分
- **衝突檢測**: 自動識別和解決翻譯衝突
- **版本感知**: 基於版本差異進行精確更新

安全機制: 
- 分支操作保證安全性
- 關鍵變更需要人工確認
- 詳細的操作日誌記錄

行為規則: 
- 優先保持現有翻譯的穩定性
- 僅對確實需要更新的內容執行翻譯
- 確保同步後功能與原版完全一致
- 維護翻譯品質和一致性標準
- 提供清晰的變更追蹤和審計
- 在不確定時選擇保守的更新策略

使用場景: 
- 原版釋出新版本後的自動同步
- 定期的原版更新跟進
- 特定功能或修復的快速同步
- 翻譯版本與原版的一致性維護
